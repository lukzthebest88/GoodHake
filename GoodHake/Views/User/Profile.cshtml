@model GoodHake.Models.User

<h2>Benutzerprofil</h2>
<form id="profileForm" asp-action="Update" method="post">
    <div asp-validation-summary="ModelOnly" class="text-danger"></div>

    <input type="hidden" asp-for="Id" />

    <label>Name:</label>
    <input type="text" asp-for="Name" class="form-control" />

    <label>Alter:</label>
    <input type="number" asp-for="Age" class="form-control" />

    <label>Geschlecht:</label>
    <select asp-for="Gender" class="form-control">
        <option value="Männlich">Männlich</option>
        <option value="Weiblich">Weiblich</option>
    </select>

    <label>Gewicht (kg):</label>
    <input type="number" asp-for="Weight" class="form-control" />

    <label>Tageskalorienziel:</label>
    <input type="number" asp-for="DailyCalorieGoal" class="form-control" />

    <button type="button" class="btn btn-primary" onclick="openConfirmDialog()">Speichern</button>
</form>

<!-- Modal-Dialog -->
<div id="confirmModal" class="modal fade" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Bestätigung</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <p>Möchtest du die Änderungen wirklich speichern?</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Abbrechen</button>
                <button type="button" class="btn btn-success" onclick="submitForm()">Bestätigen</button>
            </div>
        </div>
    </div>
</div>

<!-- Bootstrap & JavaScript -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script>
    function openConfirmDialog() {
        var modal = new bootstrap.Modal(document.getElementById('confirmModal'));
        modal.show();
    }

    function submitForm() {
        document.getElementById("profileForm").submit();
    }
</script>
